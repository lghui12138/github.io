{
  "version": 2,
  "builds": [
    {
      "src": "/(404|fluid_dynamic|fluid_dynamic_2|fluid_dynamic3)\\.html$",
      "use": "@vercel/static"
    },
    {
      "src": "public/(.*)\\.(js|css)$",
      "use": "@vercel/static"
    },
    {
      "src": "public/api/data\\.json$",
      "use": "@vercel/static"
    },
    {
      "src": "public/assets/fluid\\.dynamic\\.html$",
      "use": "@vercel/static"
    }
  ],
  "routes": [
    // 根目录 -> public/index.html
    {
      "src": "^/$",
      "dest": "/public/index.html",
      "status": 200
    },
    
    // API路由精确指向
    {
      "src": "^/api/([^.]+)$",
      "dest": "/public/api/$1.json",
      "headers": {
        "Content-Type": "application/json",
        "Access-Control-Allow-Origin": "*"
      }
    },
    
    // public目录文件精确路由
    {
      "src": "^/((styles\\.css|dynamic-content\\.js))$",
      "dest": "/public/$1"
    },
    
    // assets目录文件路由
    {
      "src": "^/assets/([^.]+)$",
      "dest": "/public/assets/$1.html",
      "status": 302
    },
    
    // 根目录HTML直接访问
    {
      "src": "^(404|fluid_dynamic|fluid_dynamic_2|fluid_dynamic3)\\.html$",
      "dest": "/$1.html"
    },
    
    // 主入口备用路由
    {
      "src": "^(home|index|main)$",
      "dest": "/public/index.html",
      "status": 302
    },
    
    // 自定义404处理
    {
      "src": "/.*",
      "dest": "/404.html",
      "status": 404
    }
  ],
  "cache": {
    "default": {
      "maxAge": 0
    }
  }
}
